(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c89ca40"],{1276:function(t,e,n){"use strict";var r=n("d784"),i=n("44e7"),a=n("825a"),s=n("1d80"),c=n("4840"),o=n("8aa5"),l=n("50c4"),u=n("14c3"),d=n("9263"),f=n("d039"),h=[].push,p=Math.min,v=4294967295,g=!f((function(){return!RegExp(v,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(s(this)),a=void 0===n?v:n>>>0;if(0===a)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,a);var c,o,l,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,f+"g");while(c=d.call(g,r)){if(o=g.lastIndex,o>p&&(u.push(r.slice(p,c.index)),c.length>1&&c.index<r.length&&h.apply(u,c.slice(1)),l=c[0].length,p=o,u.length>=a))break;g.lastIndex===c.index&&g.lastIndex++}return p===r.length?!l&&g.test("")||u.push(""):u.push(r.slice(p)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=s(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,i,n):r.call(String(i),e,n)},function(t,i){var s=n(r,t,this,i,r!==e);if(s.done)return s.value;var d=a(t),f=String(this),h=c(d,RegExp),x=d.unicode,m=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),y=new h(g?d:"^(?:"+d.source+")",m),b=void 0===i?v:i>>>0;if(0===b)return[];if(0===f.length)return null===u(y,f)?[f]:[];var E=0,S=0,A=[];while(S<f.length){y.lastIndex=g?S:0;var _,C=u(y,g?f:f.slice(S));if(null===C||(_=p(l(y.lastIndex+(g?0:S)),f.length))===E)S=o(f,S,x);else{if(A.push(f.slice(E,S)),A.length===b)return A;for(var k=1;k<=C.length-1;k++)if(A.push(C[k]),A.length===b)return A;S=E=_}}return A.push(f.slice(E)),A}]}),!g)},1428:function(t,e,n){},"14c3":function(t,e,n){var r=n("c6b6"),i=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"159b":function(t,e,n){var r=n("da84"),i=n("fdbc"),a=n("17c2"),s=n("9112");for(var c in i){var o=r[c],l=o&&o.prototype;if(l&&l.forEach!==a)try{s(l,"forEach",a)}catch(u){l.forEach=a}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,i=n("a640"),a=n("ae40"),s=i("forEach"),c=a("forEach");t.exports=s&&c?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"44e7":function(t,e,n){var r=n("861d"),i=n("c6b6"),a=n("b622"),s=a("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==i(t))}},"64c7":function(t,e,n){},6547:function(t,e,n){var r=n("a691"),i=n("1d80"),a=function(t){return function(e,n){var a,s,c=String(i(e)),o=r(n),l=c.length;return o<0||o>=l?t?"":void 0:(a=c.charCodeAt(o),a<55296||a>56319||o+1===l||(s=c.charCodeAt(o+1))<56320||s>57343?t?c.charAt(o):a:t?c.slice(o,o+2):s-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},"65f0":function(t,e,n){var r=n("861d"),i=n("e8b5"),a=n("b622"),s=a("species");t.exports=function(t,e){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"76a1":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pay-box"},[n("van-nav-bar",{attrs:{title:"提交订单","left-text":"返回","left-arrow":""},on:{"click-left":t.back}}),n("div",{staticClass:"address-list one-text",on:{click:function(e){t.show=!0}}},[t._v(t._s(t.addressselect))]),n("div",{staticClass:"pay-list clearfix"},[n("div",{staticClass:"pay-top"},t._l(t.shopData,(function(e,r){return n("div",{key:r,staticClass:"pay-one"},[n("div",{staticClass:"pay-img fl"},[n("img",{staticClass:"auto-img",attrs:{src:e.small_img,alt:""}})]),n("div",{staticClass:"pay-info fl"},[n("div",[t._v(t._s(e.name))]),n("div",[t._v(t._s(e.enname))]),n("div",[t._v(t._s(e.rule))])]),n("div",{staticClass:"pay-money fr"},[n("p",[t._v("￥"+t._s(e.price*e.count))]),n("p",[t._v("X"+t._s(e.count))])])])})),0),n("div",{staticClass:"pay-bottom clearfix"},[n("span",{staticClass:"fr"},[t._v("￥"+t._s(t.allprice))]),n("span",{staticClass:"fr"},[t._v("合计:")]),n("span",{staticClass:"fr"},[t._v("共计"+t._s(t.allcount)+"件商品")])])]),n("van-submit-bar",{attrs:{price:100*t.allprice,"button-text":"结算"},on:{submit:t.endPay}}),n("van-action-sheet",{attrs:{title:"地址列表"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("van-address-list",{attrs:{list:t.list,"default-tag-text":"默认"},on:{select:t.selectAddress,add:t.inAdd,edit:t.inAdd},model:{value:t.chosenAddressId,callback:function(e){t.chosenAddressId=e},expression:"chosenAddressId"}})],1)],1)},i=[],a=(n("4160"),n("b0c0"),n("ac1f"),n("1276"),n("159b"),n("64c7"),{data:function(){return{show:!1,chosenAddressId:"1",list:[],sids:[],addressselect:"请选择收货地址",shopData:[],allcount:0,allprice:0,addressA:[]}},created:function(){this.sids=this.$route.query.sids.split("-"),this.getaddress(),this.getPayOrderData(this.sids)},methods:{back:function(){this.$router.go(-1)},getaddress:function(){var t=this,e=localStorage.getItem("login_Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findAddress",params:{appkey:this.appkey,tokenString:e}}).then((function(e){t.$toast.clear();for(var n=e.data.result,r=[],i=0;i<n.length;i++){var a={id:n[i].aid,name:n[i].name,tel:n[i].tel,address:n[i].province+n[i].city+n[i].county+n[i].addressDetail};r.push(a)}r[1].isDefault=!0,t.list=r})).catch((function(t){}))},selectAddress:function(t,e){this.addressA=t,this.addressselect=t.address+"-"+t.name+"-"+t.tel,this.show=!1},getPayOrderData:function(t){var e=this,n=localStorage.getItem("login_Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/commitShopcart",params:{appkey:this.appkey,tokenString:n,sids:JSON.stringify(t)}}).then((function(t){e.$toast.clear(),5e4==t.data.code&&(e.allcount=0,e.allprice=0,t.data.result.forEach((function(t){e.allcount+=t.count,e.allprice+=t.price*t.count})),e.shopData=t.data.result)})).catch((function(t){e.$toast.clear()}))},endPay:function(){var t=this;if("请选择收货地址"!=this.addressselect){if(0==this.shopData.length)return this.$router.push({name:"Menu"}),void this.$toast("请先购买商品");var e=localStorage.getItem("login_Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/pay",data:{appkey:this.appkey,tokenString:e,sids:JSON.stringify(this.sids),phone:this.addressA.tel,address:this.addressA.address,receiver:this.addressA.name}}).then((function(e){t.$toast.clear(),6e4==e.data.code&&t.$router.push({name:"Order"})})).catch((function(t){}))}else this.$toast("请选择收货地址")},inAdd:function(t){var e={name:"Address"};t&&(e.params={aid:t.id}),this.$router.push(e)}}}),s=a,c=(n("f487"),n("2877")),o=Object(c["a"])(s,r,i,!1,null,"a605e9fc",null);e["default"]=o.exports},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9263:function(t,e,n){"use strict";var r=n("ad6d"),i=n("9f7f"),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,o=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=o||u||l;d&&(c=function(t){var e,n,i,c,d=this,f=l&&d.sticky,h=r.call(d),p=d.source,v=0,g=t;return f&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),g=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,v++),n=new RegExp("^(?:"+p+")",h)),u&&(n=new RegExp("^"+p+"$(?!\\s)",h)),o&&(e=d.lastIndex),i=a.call(f?n:d,g),f?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:o&&i&&(d.lastIndex=d.global?i.index+i[0].length:e),u&&i&&i.length>1&&s.call(i[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(i[c]=void 0)})),i}),t.exports=c},"9f7f":function(t,e,n){"use strict";var r=n("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,a=Function.prototype,s=a.toString,c=/^\s*function ([^ (]*)/,o="name";r&&!(o in a)&&i(a,o,{configurable:!0,get:function(){try{return s.call(this).match(c)[1]}catch(t){return""}}})},b727:function(t,e,n){var r=n("0366"),i=n("44ad"),a=n("7b0b"),s=n("50c4"),c=n("65f0"),o=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d;return function(h,p,v,g){for(var x,m,y=a(h),b=i(y),E=r(p,v,3),S=s(b.length),A=0,_=g||c,C=e?_(h,S):n?_(h,0):void 0;S>A;A++)if((f||A in b)&&(x=b[A],m=E(x,A,y),t))if(e)C[A]=m;else if(m)switch(t){case 3:return!0;case 5:return x;case 6:return A;case 2:o.call(C,x)}else if(u)return!1;return d?-1:l||u?u:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),a=n("b622"),s=n("9263"),c=n("9112"),o=a("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=a("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),h=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var p=a(t),v=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=v&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[o]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!v||!g||"replace"===t&&(!l||!u||f)||"split"===t&&!h){var x=/./[p],m=n(p,""[t],(function(t,e,n,r,i){return e.exec===s?v&&!i?{done:!0,value:x.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),y=m[0],b=m[1];r(String.prototype,t,y),r(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}d&&c(RegExp.prototype[p],"sham",!0)}},f487:function(t,e,n){"use strict";var r=n("1428"),i=n.n(r);i.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-4c89ca40.e1886a02.js.map