(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c43d88c"],{"159b":function(t,a,i){var s=i("da84"),e=i("fdbc"),r=i("17c2"),n=i("9112");for(var o in e){var c=s[o],l=c&&c.prototype;if(l&&l.forEach!==r)try{n(l,"forEach",r)}catch(d){l.forEach=r}}},"17c2":function(t,a,i){"use strict";var s=i("b727").forEach,e=i("a640"),r=i("ae40"),n=e("forEach"),o=r("forEach");t.exports=n&&o?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,a,i){"use strict";var s=i("23e7"),e=i("17c2");s({target:"Array",proto:!0,forced:[].forEach!=e},{forEach:e})},6009:function(t,a,i){},"65f0":function(t,a,i){var s=i("861d"),e=i("e8b5"),r=i("b622"),n=r("species");t.exports=function(t,a){var i;return e(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!e(i.prototype)?s(i)&&(i=i[n],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===a?0:a)}},"68d9":function(t,a,i){},"892c":function(t,a,i){"use strict";var s=i("6009"),e=i.n(s);e.a},a434:function(t,a,i){"use strict";var s=i("23e7"),e=i("23cb"),r=i("a691"),n=i("50c4"),o=i("7b0b"),c=i("65f0"),l=i("8418"),d=i("1dde"),f=i("ae40"),u=d("splice"),v=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,_=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!u||!v},{splice:function(t,a){var i,s,d,f,u,v,m=o(this),C=n(m.length),k=e(t,C),S=arguments.length;if(0===S?i=s=0:1===S?(i=0,s=C-k):(i=S-2,s=h(p(r(a),0),C-k)),C+i-s>_)throw TypeError(g);for(d=c(m,s),f=0;f<s;f++)u=k+f,u in m&&l(d,f,m[u]);if(d.length=s,i<s){for(f=k;f<C-s;f++)u=f+s,v=f+i,u in m?m[v]=m[u]:delete m[v];for(f=C;f>C-s+i;f--)delete m[f-1]}else if(i>s)for(f=C-s;f>k;f--)u=f+s-1,v=f+i-1,u in m?m[v]=m[u]:delete m[v];for(f=0;f<i;f++)m[f+k]=arguments[f+2];return m.length=C-s+i,d}})},a640:function(t,a,i){"use strict";var s=i("d039");t.exports=function(t,a){var i=[][t];return!!i&&s((function(){i.call(null,a||function(){throw 1},1)}))}},b727:function(t,a,i){var s=i("0366"),e=i("44ad"),r=i("7b0b"),n=i("50c4"),o=i("65f0"),c=[].push,l=function(t){var a=1==t,i=2==t,l=3==t,d=4==t,f=6==t,u=5==t||f;return function(v,p,h,_){for(var g,m,C=r(v),k=e(C),S=s(p,h,3),b=n(k.length),L=0,x=_||o,y=a?x(v,b):i?x(v,0):void 0;b>L;L++)if((u||L in k)&&(g=k[L],m=S(g,L,C),t))if(a)y[L]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return L;case 2:c.call(y,g)}else if(d)return!1;return f?-1:l||d?d:y}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},bf82:function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("div",{staticClass:"shishi"},[t.isLogin?i("div",[i("van-empty",{attrs:{description:""}}),i("div",{staticClass:"login-null"},[t._v("请先"),i("span",{on:{click:t.toLogin}},[t._v("登入")])])],1):i("div",[i("van-tabs",{attrs:{animated:"",swipeable:""},model:{value:t.active,callback:function(a){t.active=a},expression:"active"}},[i("van-tab",{attrs:{title:"全部"}},t._l(t.orderData,(function(a,s){return i("div",{key:s,staticClass:"order-list"},[i("div",{staticClass:"list-top clearfix"},[i("span",{staticClass:"fl"},[t._v(t._s(a.data[0].oid))]),2==a.data[0].status?i("span",{staticClass:"fr list-icon",on:{click:function(i){return t.delOrder(a.data[0])}}},[i("van-icon",{staticClass:"delete-icon",attrs:{name:"delete"}})],1):t._e(),i("span",{staticClass:"fr",on:{click:function(i){1==a.data[0].status&&t.endOrder(a.data[0])}}},[t._v(t._s(2==a.data[0].status?t.a:t.b))])]),i("hr"),t._l(a.data,(function(a,s){return i("div",{key:s,staticClass:"shoplist clearfix"},[i("div",{staticClass:"list-img fl"},[i("img",{attrs:{src:a.smallImg,alt:""}})]),i("div",{staticClass:"fl list-info"},[i("div",[t._v(t._s(a.name))]),i("div",[t._v(t._s(a.enname))]),i("div",[t._v(t._s(a.rule))])]),i("div",{staticClass:"fr list-all "},[i("p",[t._v("￥"+t._s(a.price))]),i("p",{staticClass:"fr"},[t._v("X"+t._s(a.count))])])])})),i("div",{staticClass:"clearfix list-bottom"},[i("div",{staticClass:"list-time fl"},[t._v(t._s(a.date))]),i("div",{staticClass:"alllist-price fr"},[i("span",[t._v("共计"+t._s(a.count)+"件商品")]),i("span",[t._v("合计:")]),i("span",[t._v("￥"+t._s(a.allprice))])])])],2)})),0),i("van-tab",{attrs:{title:"待收货"}},t._l(t.orderDatastr,(function(a,s){return i("div",{key:s,staticClass:"order-list"},[i("div",{staticClass:"list-top clearfix"},[i("span",{staticClass:"fl"},[t._v(t._s(a.data[0].oid))]),i("span",{staticClass:"fr",on:{click:function(i){return t.endOrder(a.data[0])}}},[t._v("确认收货")])]),i("hr"),t._l(a.data,(function(a,s){return i("div",{key:s,staticClass:"shoplist clearfix"},[i("div",{staticClass:"list-img fl"},[i("img",{attrs:{src:a.smallImg,alt:""}})]),i("div",{staticClass:"fl list-info"},[i("div",[t._v(t._s(a.name))]),i("div",[t._v(t._s(a.enname))]),i("div",[t._v(t._s(a.rule))])]),i("div",{staticClass:"fr list-all "},[i("p",[t._v("￥"+t._s(a.price))]),i("p",{staticClass:"fr"},[t._v("X"+t._s(a.count))])])])})),i("div",{staticClass:"clearfix list-bottom"},[i("div",{staticClass:"list-time fl"},[t._v("2020-06-28 22:58:36")]),i("div",{staticClass:"alllist-price fr"},[i("span",[t._v("共计"+t._s(a.count)+"件商品")]),i("span",[t._v("合计:")]),i("span",[t._v("￥"+t._s(a.allprice))])])])],2)})),0),i("van-tab",{attrs:{title:"已收货"}},t._l(t.orderDataend,(function(a,s){return i("div",{key:s,staticClass:"order-list"},[i("div",{staticClass:"list-top clearfix"},[i("span",{staticClass:"fl"},[t._v(t._s(a.data[0].oid))]),2==a.data[0].status?i("span",{staticClass:"fr list-icon",on:{click:function(i){return t.delOrder(a.data[0])}}},[i("van-icon",{staticClass:"delete-icon",attrs:{name:"delete"}})],1):t._e(),i("span",{staticClass:"fr"},[t._v(t._s(2==a.data[0].status?t.a:t.b))])]),i("hr"),t._l(a.data,(function(a,s){return i("div",{key:s,staticClass:"shoplist clearfix"},[i("div",{staticClass:"list-img fl"},[i("img",{attrs:{src:a.smallImg,alt:""}})]),i("div",{staticClass:"fl list-info"},[i("div",[t._v(t._s(a.name))]),i("div",[t._v(t._s(a.enname))]),i("div",[t._v(t._s(a.rule))])]),i("div",{staticClass:"fr list-all "},[i("p",[t._v("￥"+t._s(a.price))]),i("p",{staticClass:"fr"},[t._v("X"+t._s(a.count))])])])})),i("div",{staticClass:"clearfix list-bottom"},[i("div",{staticClass:"list-time fl"},[t._v("2020-06-28 22:58:36")]),i("div",{staticClass:"alllist-price fr"},[i("span",[t._v("共计"+t._s(a.count)+"件商品")]),i("span",[t._v("合计:")]),i("span",[t._v("￥"+t._s(a.allprice))])])])],2)})),0)],1)],1)])])},e=[],r=(i("4160"),i("c975"),i("a434"),i("159b"),i("68d9"),{data:function(){return{isLogin:!1,a:"已完成",b:"确认收货",active:0,oidData:[],orderData:[],orderDatastr:[],orderDataend:[]}},created:function(){localStorage.getItem("login_Tk")&&(this.isLogin=!0,this.getOrder())},methods:{toLogin:function(){this.$router.push({name:"Login"})},getOrder:function(){var t=this,a=localStorage.getItem("login_Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findOrder",params:{appkey:this.appkey,tokenString:a,status:0}}).then((function(a){if(t.$toast.clear(),7e4==a.data.code){a.data.result.sort((function(t,a){return new Date(a.createdAt).getTime()-new Date(t.createdAt).getTime()})),a.data.result.forEach((function(a){-1===t.oidData.indexOf(a.oid)&&t.oidData.push(a.oid)}));var i={};a.data.result.forEach((function(t){i[t.oid]?(i[t.oid].count+=t.count,i[t.oid].allprice+=t.count*t.price,i[t.oid].data.push(t)):i[t.oid]={data:[t],status:t.status,date:t.createdAt,count:t.count,allprice:t.count*t.price}}));var s=[];for(var e in i)s.push(i[e]);t.orderData=s,t.changeOrder()}})).catch((function(a){t.$toast.clear()}))},endOrder:function(t){var a=this,i=localStorage.getItem("login_Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/receive",data:{appkey:this.appkey,tokenString:i,oid:t.oid}}).then((function(i){a.$toast.clear(),8e4==i.data.code&&(t.status=2,a.changeOrder())})).catch((function(t){a.$toast.clear()}))},changeOrder:function(){for(var t in this.orderDatastr=[],this.orderDataend=[],this.orderData)1==this.orderData[t].data[0].status?this.orderDatastr.push(this.orderData[t]):this.orderDataend.push(this.orderData[t])},delOrder:function(t){var a=this,i=localStorage.getItem("login_Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/removeOrder",data:{appkey:this.appkey,tokenString:i,oid:t.oid}}).then((function(i){if(a.$toast.clear(),9e4==i.data.code){for(var s=t.oid,e=0;e<a.orderData.length;e++)if(s==a.orderData[e].data[0].oid){a.orderData.splice(e,1);break}a.getOrder()}})).catch((function(t){a.$toast.clear()}))}}}),n=r,o=(i("892c"),i("2877")),c=Object(o["a"])(n,s,e,!1,null,"a451df32",null);a["default"]=c.exports},c975:function(t,a,i){"use strict";var s=i("23e7"),e=i("4d64").indexOf,r=i("a640"),n=i("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),d=n("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:c||!l||!d},{indexOf:function(t){return c?o.apply(this,arguments)||0:e(this,t,arguments.length>1?arguments[1]:void 0)}})},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-9c43d88c.6ec65a68.js.map