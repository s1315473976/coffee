(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f55d1bf8"],{"4f3a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{title:"验证码","left-text":"返回"},on:{"click-left":t.toback}}),a("van-form",[a("van-field",{attrs:{type:"text",label:"邮箱",placeholder:"邮箱地址"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("van-field",{key:"code",attrs:{type:"text",label:"验证码",placeholder:"6位验证码"},scopedSlots:t._u([{key:"button",fn:function(){return[a("van-button",{attrs:{size:"small",type:"info"},on:{click:t.sendCode}},[t._v(t._s(t.text))])]},proxy:!0}]),model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),a("div",{staticClass:"register-btn"},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:t.next}},[t._v("下一步")])],1)],1)],1)},i=[],o={data:function(){return{email:"",code:"",text:"发送验证码"}},methods:{toback:function(){this.$router.go(-1)},Send:function(){},sendCode:function(){var t=this,e=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(e.test(this.email)){var a=60;this.text=a+"秒后重新发送",this.isSend=!0;var n=setInterval((function(){0==a?(clearInterval(n),n=null,t.text="发送验证码",t.isSend=!1):(a--,t.text=a+"秒后重新发送")}),1e3);this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/emailValidCode",data:{appkey:this.appkey,email:this.email}}).then((function(e){t.$toast.clear()})).catch((function(e){t.$toast.clear()}))}else this.$toast("邮箱错误")},next:function(){var t=this,e=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;e.test(this.email)?(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/checkValidCode",data:{appkey:this.appkey,validCode:this.code}}).then((function(e){t.$toast.clear(),"K001"==e.data.code?t.$router.push({name:"Next"}):t.$toast(e.data.msg)})).catch((function(e){t.$toast.clear()}))):this.$toast("邮箱错误")}}},s=o,l=(a("9af1"),a("2877")),c=Object(l["a"])(s,n,i,!1,null,"abd7e88e",null);e["default"]=c.exports},"987f":function(t,e,a){},"9af1":function(t,e,a){"use strict";var n=a("987f"),i=a.n(n);i.a}}]);
//# sourceMappingURL=chunk-f55d1bf8.359e6be3.js.map